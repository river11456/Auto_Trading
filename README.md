ğŸš€ Automated Crypto Trading Backend

ì´ í”„ë¡œì íŠ¸ëŠ” TradingView ì›¹í›… ê¸°ë°˜ ìë™ ì•”í˜¸í™”í ê±°ë˜ ì‹œìŠ¤í…œì˜ ë°±ì—”ë“œì…ë‹ˆë‹¤.FastAPI, Bithumb API, Rich ë¡œê·¸ ì‹œìŠ¤í…œì„ í™œìš©í•˜ì—¬ ì‹¤ì‹œê°„ ê±°ë˜ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

ğŸ“Œ Features

ìë™ ë§¤ë§¤: TradingView ì›¹í›…ì„ ìˆ˜ì‹ í•˜ì—¬ ìë™ìœ¼ë¡œ ë§¤ìˆ˜/ë§¤ë„ ì£¼ë¬¸ ì‹¤í–‰

Bithumb API ì—°ë™: ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ ë° ì£¼ë¬¸ ì²˜ë¦¬

ì „ëµ ê¸°ë°˜ ê±°ë˜: í˜„ì¬ TradingView ì•ŒëŸ¬íŠ¸ ê¸°ë°˜ ì „ëµë§Œ êµ¬í˜„   

FastAPI ê¸°ë°˜ ì„œë²„: ë¹„ë™ê¸° API ì„œë²„ë¡œ ë†’ì€ ì„±ëŠ¥ ì œê³µ

ì»¤ìŠ¤í…€ ë¡œê¹… ì‹œìŠ¤í…œ: Richë¥¼ í™œìš©í•œ ê°€ë…ì„± ë†’ì€ ë¡œê·¸ ì¶œë ¥ ë° íŒŒì¼ ê¸°ë¡






ğŸ›  Installation

1. Clone Repository

TBD

2. Create Virtual Environment & Install Dependencies

TBD


3. Set Up Environment Variables

.env íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒê³¼ ê°™ì€ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

# ë¹—ì¸ API í‚¤ ì„¤ì •
BITHUMB_API_KEY=your_api_key_here
BITHUMB_SECRET=your_api_secret_here


# ì„œë²„ í™˜ê²½ ì„¤ì •
ENV=development   (ì´ê±´ ì•„ì§ ì˜ë¯¸ ì—†ìŒ)



ğŸš€ How to Run

1. Start the Server

python main.py


* DDNS ì„¤ì •, í¬íŠ¸ í¬ì›Œë”© ì„¤ì •, Nginx (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ) ì„¤ì • í•„ìš”í•¨

DDNS : 
ë™ì  DNS ì„œë¹„ìŠ¤
ì¼ë°˜ ê°€ì •ì—ì„œ ì“°ëŠ” ê³µì¸ ì•„ì´í”¼ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ë³€í•¨
DDNS ì„œë¹„ìŠ¤ ì‚¬ìš©í•˜ë©´ ì£¼ê¸°ì ìœ¼ë¡œ ë³€í•˜ëŠ” ë‚´ ì•„ì´í”¼ë¥¼ íŠ¹ì • ë„ë©”ì¸ì— ê³ ì •í•´ì¤Œ
íŠ¸ë ˆì´ë”©ë·° ì•ŒëŸ¬íŠ¸ë¥¼ ê·¸ ë„ë©”ì¸ìœ¼ë¡œ ë³´ë‚´ì•¼í•¨ 

ì•„ì´í”¼ íƒ€ì„ ì‚¬ìš©í•˜ë©´ ì•„ì´í”¼ íƒ€ì„ DDNS ì„¤ì • ê²€ìƒ‰ ã„±ã„±


í¬íŠ¸ í¬ì›Œë”© :
TBD  

ì´ê²ƒë„ ì•„ì´í”¼ íƒ€ì„ ì„¤ì •ì—ì„œ ê°€ëŠ¥  
ì›¹í›…ê³¼ ë‚´ ì„œë²„ì˜ ë¬¸ì„ ì—°ê²° í•´ì£¼ëŠ” ì—­í•   


Nginx :
ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ í”„ë¡œê·¸ë¨
ì´ê±¸ ì¨ì•¼ ë‚´ ë¡œì»¬ ì„œë²„ë¥¼ ì•ˆì „í•˜ê²Œ ì™¸ë¶€ì— ì˜¤í”ˆ ê°€ëŠ¥



* ì„œë²„ë¡œ ìœˆë„ìš° PC ì‚¬ìš©í•˜ë ¤ë©´ ìë™ ì ˆì „ ê¸°ëŠ¥ë„ êº¼ì•¼ í•¨!
ì ˆì „ì´ì–´ë„ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë˜ê¸´ í•˜ëŠ”ë°,
ì ˆì „ëª¨ë“œ ì§„ì…í•˜ëŠ” íƒ€ì´ë°ì´ë‘ ì•ŒëŸ¬íŠ¸ ìˆ˜ì‹ ë˜ëŠ” íƒ€ì´ë°ì´ ê°™ìœ¼ë©´ ì¼ì‹œì ìœ¼ë¡œ ë†“ì¹¨






2. API Documentation

ë¹—ì¸ Api 1.2.0 ì‚¬ìš©
ë¹—ì¸ Api 2.0ì€ íŠ¹ì • ipë¥¼ ë“±ë¡í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì£¼ê¸°ì ìœ¼ë¡œ ë°”ë€ë‹¤
1.0ì€ ip ì œí•œì´ ì—†ë‹¤

https://apidocs.bithumb.com/v1.2.0/




ğŸ“ Project Structure

backend/
â”‚â”€â”€ app/
â”‚   â”œâ”€â”€ config/              # ì„¤ì • ê´€ë ¨ íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ exceptions/          # ì˜ˆì™¸ ì²˜ë¦¬ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ custom_exceptions.py
â”‚   â”‚   â”œâ”€â”€ exception_handler.py
â”‚   â”œâ”€â”€ models/              # Pydantic ë°ì´í„° ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ trading_model.py
â”‚   â”œâ”€â”€ routes/              # API ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ webhook_route.py
â”‚   â”œâ”€â”€ services/            # í•µì‹¬ ì„œë¹„ìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ bithumb_api_client.py
â”‚   â”‚   â”œâ”€â”€ strategy_service.py
â”‚   â”‚   â”œâ”€â”€ trading_service.py
â”‚   â”œâ”€â”€ utils/               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (ë¡œê¹…, í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ë“±)
â”‚   â”‚   â”œâ”€â”€ display.py
â”‚   â”‚   â”œâ”€â”€ logger.py
â”‚   â”‚   â”œâ”€â”€ nginx_checker.py
â”‚   â”‚   â”œâ”€â”€ process_checker.py
â”‚â”€â”€ logs/                    # ë¡œê·¸ íŒŒì¼ ì €ì¥
â”‚â”€â”€ main.py                   # FastAPI ì„œë²„ ì‹¤í–‰ íŒŒì¼
â”‚â”€â”€ test_bithumb_api.py       # Bithumb API í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚â”€â”€ test_display.py           # ë¡œê·¸ ë””ìŠ¤í”Œë ˆì´ í…ŒìŠ¤íŠ¸
â”‚â”€â”€ test_exceptions.py        # ì˜ˆì™¸ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
â”‚â”€â”€ test_trading_model.py     # ë°ì´í„° ëª¨ë¸ í…ŒìŠ¤íŠ¸
â”‚â”€â”€ test_trading_service.py   # íŠ¸ë ˆì´ë”© ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸
â”‚â”€â”€ .env                      # í™˜ê²½ ë³€ìˆ˜ íŒŒì¼
â”‚â”€â”€ requirements.txt          # Python íŒ¨í‚¤ì§€ ëª©ë¡
â”‚â”€â”€ README.md                 # í”„ë¡œì íŠ¸ ë¬¸ì„œ


* í…ŒìŠ¤íŠ¸ ì½”ë“œë“¤ì€ ìœ„ì¹˜ ì´ë™ í•„ìš”



ğŸ” ì£¼ìš” ê¸°ëŠ¥

1. ì›¹í›… ê¸°ë°˜ ìë™ ê±°ë˜

TradingViewì—ì„œ ë³´ë‚¸ ì›¹í›…ì„ ìˆ˜ì‹ í•˜ì—¬ ìë™ìœ¼ë¡œ ë§¤ë§¤ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

{
  "signal": "buy",
  "symbol": "USDT",
  "amount": 100.0     
}

ì´ë¥¼ FastAPI ë¼ìš°íŠ¸(/webhook)ì—ì„œ ì²˜ë¦¬í•˜ë©°, ì „ëµ ì‹¤í–‰ í›„ ë§¤ë§¤ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.


* ì—¬ê¸°ì„œ ë§í•˜ëŠ” ì „ëµì´ë€?

ì‚¬ì‹¤ ì§„ì§œ ì „ëµì€ íŠ¸ë ˆì´ë”©ë·°ì—ì„œ ê´€ë¦¬ëœë‹¤
ë‚œ íŠ¸ë ˆì´ë”©ë·° ì•ŒëŸ¬íŠ¸ë¥¼ Only ë§¤ìˆ˜/ë§¤ë„ ì‹ í˜¸ë¡œ í™œìš©í•œë‹¤
ê·¸ë˜ì„œ ë§¤ìˆ˜ ì‹ í˜¸ê°€ ì™”ì„ ë•Œ ì‹¤ì œ ë§¤ìˆ˜ë¥¼ ì‹¤í–‰í• ì§€, ì–¼ë§ˆë¥¼ ì‚´ì§€ ë“±ì„ ì •í•´ì¤˜ì•¼ í•œë‹¤
ê²°êµ­ ìµœì¢… ì£¼ë¬¸ ì‹¤í–‰ì„ ê²°ì •í•˜ëŠ” ë¶€ë¶„ì´ í•„ìš”í•œë° ì´ë¥¼ strategy_service ë¡œ êµ¬ë¶„í–ˆë‹¤

ì›¹í›… ì‹ í˜¸ -> Strategy ì—ì„œ ìµœì¢… ê²°ì • -> Trading ì—ì„œ ì‹¤ì œ ê±°ë˜ ì§„í–‰ 

Strategy : strategy_service.py
Trading : trading_service.py

ê·¸ë¦¬ê³  ì´ ë‘ ëª¨ë“ˆì€ bithumb_api_client.py ì—ì„œ Apië¥¼ ì´ìš©í•œë‹¤


* ë§Œì•½ íŒŒì´ì¬ ì½”ë“œë¡œ íŠ¸ë ˆì´ë”©ë·°ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤ë©´ strategy_serviceë¥¼ ì§„ì§œ ì „ëµìœ¼ë¡œ í™•ì¥í•´ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤ (ì´ê±´ ë‚˜ì¤‘ì—)  



2. ë¡œê·¸ ì‹œìŠ¤í…œ

Rich ì½˜ì†” ë¡œê·¸: ì»¬ëŸ¬ ì¶œë ¥ ë° JSON ë°ì´í„° ê°€ë…ì„± í–¥ìƒ

íŒŒì¼ ë¡œê·¸ ê¸°ë¡: logs/app.logì— ì €ì¥

ì»¤ìŠ¤í…€ ë¡œê·¸ í•¸ë“¤ëŸ¬: ConsoleHandlerWithDisplayë¥¼ í†µí•´ í„°ë¯¸ë„ê³¼ íŒŒì¼ ë¡œê·¸ë¥¼ ë¶„ë¦¬





3. ì˜ˆì™¸ ì²˜ë¦¬

ëª¨ë“  API ìš”ì²­ê³¼ ë‚´ë¶€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ë¥¼ í•¸ë“¤ë§í•©ë‹ˆë‹¤.

@app.exception_handler(RequestValidationError)
async def validation_exception_handler(request: Request, exc: RequestValidationError):
    logger.error(f"ìš”ì²­ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨: {exc.errors()}")
    return JSONResponse(status_code=422, content={"detail": exc.errors()})

